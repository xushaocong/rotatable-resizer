!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("RotatableResizer",[],e):"object"==typeof exports?exports.RotatableResizer=e():t.RotatableResizer=e()}(this,function(){return r={},i.m=n=[function(t,e,n){n(1);var i=n(7)(n(2),n(8),null,null);t.exports=i.exports},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3);e.default=i.a},function(t,e,n){"use strict";var i=n(5),h=n(4);e.a={name:"rotatable-resizer",props:{disabled:{type:Boolean},active:{type:Boolean,default:!0},rotatable:{type:Boolean},dragMode:{type:String,default:"content"},draggable:{type:Boolean,default:!0},handles:{type:String},left:{type:Number},top:{type:Number},width:{type:Number},height:{type:Number},rotation:{type:Number},fixedRatio:{type:Boolean,default:!1},autoHeight:{type:Boolean,default:!1}},data:function(){return{state:new i.a({left:this.left,top:this.top,width:this.width,height:this.height},this.rotation,this.fixedRatio,this.autoHeight),dragging:!1}},created:function(){var t=this;this.$watch("rotatable",function(t){var e=this;t&&this.$nextTick(function(){return e.bindRotateEvent()})}),this.$watch("handles",function(){var t=this;this.$nextTick(function(){return t.bindResizeEvent()})});["width","height","rotation","left","top"].forEach(function(e){t.$watch(e,function(t){this.dragging||(this.state[e]=t)})})},mounted:function(){this.bindResizeEvent(),this.bindDragEvent(),this.bindRotateEvent()},computed:{rectHandles:function(){return(this.handles||"n,e,s,w,nw,ne,se,sw").split(",").map(function(t){return t.trim()})},value:function(){var t=this.state;return{left:t.left,top:t.top,width:t.width,height:t.height,rotation:t.rotation}}},watch:{autoHeight:function(t){var e=this.$el;e.style.height=t?"auto":this.state.height+"px"}},methods:{emitInputEvent:function(t){this.$emit("input",t)},emitChangeEvent:function(){this.$emit("change",this.value)},emitBeforeInputEvent:function(){this.$emit("before-input",this.value)},hasHandle:function(t){return-1!==this.rectHandles.indexOf(t)},bindRotateEvent:function(){var t=this.$refs.rotateHandle;if(t){var r=this,o=r.$el;n.i(h.a)(t,{start:function(){if(r.disabled)return!1;r.dragging=!0,r.emitBeforeInputEvent()},drag:function(t){var e=o.getBoundingClientRect(),n=e.left+e.width/2,i=e.top+e.height/2;r.state.rotation=(180*Math.atan2(t.clientY-i,t.clientX-n)/Math.PI+90)%360,r.emitInputEvent(r.value)},end:function(){r.emitChangeEvent(),r.dragging=!1}})}},bindDragEvent:function(){var r=this,o=this.$el,a={};n.i(h.a)(o,{handle:"border"===r.dragMode?".rr-bar":null,start:function(t){if(!r.draggable||r.disabled)return!1;a.startX=t.clientX,a.startY=t.clientY,r.dragging=!0,r.emitBeforeInputEvent()},drag:function(t){var e=t.clientX-a.startX,n=t.clientY-a.startY,i=r.state.translate(e,n);i.rotation=r.state.rotation,r.emitInputEvent(i),a.rect=i,o.style.left=i.left+"px",o.style.top=i.top+"px",o.style.width=i.width+"px",o.style.height=r.autoHeight?"auto":i.height+"px"},end:function(){a.rect&&(r.state.reset(a.rect),r.emitChangeEvent()),r.dragging=!1}})},bindResizeEvent:function(){var t=this.$el,e=this.aspectRatio;"number"!=typeof e&&(e=void 0);for(var n=t.querySelectorAll(".rr-handle"),i=0,r=n.length;i<r;i++)this.makeHandleResizable(n[i])},makeHandleResizable:function(t){var r,o=this,a=this.$el,s=t.className.split(" ")[1].replace("rr-ord-",""),l={},f={};n.i(h.a)(t,{start:function(t){if(o.disabled)return!1;l.startX=t.clientX,l.startY=t.clientY,r=o.state.getPoint(s),f={width:o.state.width,height:o.state.height},o.dragging=!0,o.emitBeforeInputEvent()},drag:function(t){var e=t.clientX-l.startX,n=t.clientY-l.startY,i=o.state.dragPoint(s,e,n,r,f);(l.rect=i).rotation=o.state.rotation,o.emitInputEvent(i),void 0!==i.left&&(a.style.left=i.left+"px",a.style.top=i.top+"px"),void 0!==i.width&&(a.style.width=i.width+"px",a.style.height=o.autoHeight?"auto":i.height+"px")},end:function(){l.rect&&(o.state.reset(l.rect),o.emitChangeEvent()),o.dragging=!1}})}}}},function(t,e,n){"use strict";var w="PREVENT_CLICK",r="rr-event-bound";e.a=function(f,h){if(!f[r]){!function(t){if(!t)throw new Error("[markBound] element is required!");t[r]="DONE"}(f);var d,u=!1,o=(h=h||{}).minDistance||3,c=void 0===h.preventClick||h.preventClick,p=void 0===h.cancelBubble||h.cancelBubble,v=h.handle,g=h.cancel,b=!1,a={startLeft:null,startTop:null},s=function(t){p&&t.stopPropagation(),document.onselectstart=function(){return!1},document.ondragstart=function(){return!1},c&&f.setAttribute(w,"true");var e=!0;if(g){for(var n=f.querySelectorAll(g),i=0,r=n.length;i<r;i++){var o=n[i];if(d===o||o.contains(d)){e=!1;break}}if(!e)return void(b=!0)}if(e=!1,v){var a=f.querySelectorAll(v);for(i=0,r=a.length;i<r;i++){var s=a[i];if(d===s||s.contains(d)){e=!0;break}}if(!e)return void(b=!0)}if(h.start){var l=h.start(t);u=!1!==l}else u=!0},n=function(t){if(!b){if(!u){var e=a.startLeft,n=a.startTop,i=Math.abs(t.clientX-e),r=Math.abs(t.clientY-n);(o<i||o<r)&&s(t)}u&&h.drag&&h.drag(t)}},i=function(t){var e;setTimeout(function(){c&&f.getAttribute(w)&&f.removeAttribute(w)},0),document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",i),document.onselectstart=null,document.ondragstart=null,b=!1,e=t,a.startLeft=null,a.startTop=null,u&&h.end&&h.end(e),u=!1};f.addEventListener("click",function(t){c&&f.getAttribute(w)&&(t.stopPropagation(),f.removeAttribute(w))}),f.addEventListener("mousedown",function(t){u||(d=t.target,document.addEventListener("mousemove",n),document.addEventListener("mouseup",i),p&&t.stopPropagation(),0<o?(a.startLeft=t.clientX,a.startTop=t.clientY):s(t))})}}},function(t,e,n){"use strict";function f(t){return t/180*Math.PI}function X(t,e,n){var i=e.left,r=e.top,o=n.left,a=n.top,s=Math.sin(f(t)),l=Math.cos(f(t));return{left:o+(l*(i-o)+s*(r-a)),top:a+(-s*(i-o)+l*(r-a))}}function Y(t,e,n,i){void 0===n&&(n=0);var r,o,a,s,l,f,h={left:(t.left+e.left)/2,top:(t.top+e.top)/2};return r=X(n,t,h),o=X(n,e,h),a=i,s=Math.min(r.left,o.left),l=Math.min(r.top,o.top),f=Math.abs(r.left-o.left),{left:s,top:l,width:f,height:a?f/a:Math.abs(r.top-o.top)}}function A(t,e,n,i){void 0===n&&(n=0);var r,o,a,s,l,f={left:(t.left+e.left)/2,top:(t.top+e.top)/2};return r=X(n,t,f),o=X(n,e,f),a=i,s=Math.abs(o.left-r.left),l=a?s/a:Math.abs(o.top-r.top),{left:Math.max(r.left,o.left)-s,top:Math.min(r.top,o.top),width:s,height:l}}function N(t,e,n,i){var r=t.left-e.left,o=t.top-e.top,a=Math.sqrt(r*r+o*o),s=r/a,l=o/a,f=n*s+i*l;return{left:f*s,top:f*l}}var T={n:{p1y:!0},w:{p1x:!0},e:{p3x:!0},s:{p3y:!0},nw:{p1x:!0,p1y:!0},ne:{p1y:!0,p3x:!0},sw:{p3y:!0,p1x:!0},se:{p3y:!0,p3x:!0}},i=(Object.defineProperty(r.prototype,"center",{get:function(){var t=this.left,e=this.top;return{left:t+this.width/2,top:e+this.height/2}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"rotated",{get:function(){return void 0!==this.rotation&&0!==this.rotation},enumerable:!0,configurable:!0}),r.prototype.getPoint=function(t){var e=this.left,n=this.top,i=this.width,r=this.height,o={left:null,top:null};switch(t){case"nw":case"ne":case"n":o.top=n;break;case"sw":case"s":case"se":o.top=n+r;break;case"w":case"e":o.top=n+r/2}switch(t){case"nw":case"sw":case"w":o.left=e;break;case"ne":case"se":case"e":o.left=e+i;break;case"n":case"s":o.left=e+i/2}var a=this.rotation;if(void 0!==a&&0!==a){var s=this.center;o=X(-a,o,s)}return o},r.prototype.translate=function(t,e){if(void 0===t&&(t=0),void 0===e&&(e=0),this.rotated){var n=this.getPoint("nw"),i=this.getPoint("se");return n.left+=t,n.top+=e,i.left+=t,i.top+=e,Y(n,i,this.rotation,null)}return{left:this.left+t,top:this.top+e,width:this.width,height:this.height}},r.prototype.reset=function(t){this.left=t.left,this.top=t.top,this.width=t.width,this.height=t.height},r.prototype.dragPoint=function(t,e,n,i,r){void 0===e&&(e=0),void 0===n&&(n=0);var o,a,s,l,f,h,d,u,c,p,v,g,b,w,m,y,x=T[t],k=this.getPoint("nw"),E=this.getPoint("se"),_=this.rotated,M=this.rotation,P=this.fixedRatio,C=P?r.height?r.width/r.height:0:null;if(_){if("s"===t||"n"===t){var R=this.getPoint("n"),H=this.getPoint("s"),$=N(R,H,e,n);return"s"===t?(H.left+=$.left,H.top+=$.top):"n"===t&&(R.left+=$.left,R.top+=$.top),c=R,p=H,v=M,g=this.width,b={left:(c.left+p.left)/2,top:(c.top+p.top)/2},w=X(v,c,b),m=X(v,p,b),y=Math.abs(w.top-m.top),{left:Math.min(w.left,m.left)-g/2,top:Math.min(w.top,m.top),width:g,height:y}}if("e"===t||"w"===t){var B=this.getPoint("w"),j=this.getPoint("e");return $=N(B,j,e,n),"e"===t?(j.left+=$.left,j.top+=$.top):"w"===t&&(B.left+=$.left,B.top+=$.top),o=B,a=j,s=M,l=this.height,f={left:(o.left+a.left)/2,top:(o.top+a.top)/2},h=X(s,o,f),d=X(s,a,f),u=Math.abs(h.left-d.left),{left:Math.min(h.left,d.left),top:Math.min(h.top,d.top)-l/2,width:u,height:l}}if("nw"===t||"se"===t){var z=this.getPoint("nw"),I=this.getPoint("se");return"nw"===t?(z.left=i.left+e,z.top=i.top+n):"se"===t&&(I.left=i.left+e,I.top=i.top+n),Y(z,I,M,C)}if("ne"===t||"sw"===t){var L=this.getPoint("ne"),O=this.getPoint("sw");return"ne"===t?(L.left=i.left+e,L.top=i.top+n):"sw"===t&&(O.left=i.left+e,O.top=i.top+n),A(L,O,M,C)}}if(P)switch(t){case"n":k.top=i.top+n;break;case"e":E.left=i.left+e;break;case"s":E.top=i.top+n;break;case"w":k.left=i.left+e;break;case"nw":k.left=i.left+e,k.top=i.top+e/C;break;case"ne":E.left=i.left+e,k.top=i.top-e/C;break;case"se":E.left=i.left+e,E.top=i.top+e/C;break;case"sw":k.left=i.left+e,E.top=i.top-e/C}else x.p1x&&(k.left=i.left+e),x.p3x&&(E.left=i.left+e),x.p1y&&(k.top=i.top+n),x.p3y&&(E.top=i.top+n);return Y(k,E,M,null)},r);function r(t,e,n,i){if(this.rotation=0,this.rotation=e,this.fixedRatio=n,this.autoHeight=i,t){var r=t.left,o=t.top,a=t.width,s=t.height;this.left=r,this.top=o,this.width=a,this.height=s}}e.a=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n.n(i);e.default=r.a,"undefined"!=typeof window&&window.Vue&&window.Vue.component(r.a.name,r.a)},function(t,e){t.exports=function(t,e,n,i){var r,o=t=t||{},a=typeof t.default;"object"!=a&&"function"!=a||(o=(r=t).default);var s="function"==typeof o?o.options:o;if(e&&(s.render=e.render,s.staticRenderFns=e.staticRenderFns),n&&(s._scopeId=n),i){var l=Object.create(s.computed||null);Object.keys(i).forEach(function(t){var e=i[t];l[t]=function(){return e}}),s.computed=l}return{esModule:r,exports:o,options:s}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rr-resizer",class:{"rr-resizer--active":!t.disabled&&t.active,"rr-drag-border":"border"===t.dragMode},style:{transform:"rotateZ("+t.state.rotation+"deg)",left:t.state.left+"px",top:t.state.top+"px",width:t.state.width+"px",height:t.state.autoHeight?"auto":t.state.height+"px"}},[n("div",{key:"bar-n",staticClass:"rr-bar rr-ord-n"}),t._v(" "),n("div",{key:"bar-s",staticClass:"rr-bar rr-ord-s"}),t._v(" "),n("div",{key:"bar-e",staticClass:"rr-bar rr-ord-e"}),t._v(" "),n("div",{key:"bar-w",staticClass:"rr-bar rr-ord-w"}),t._v(" "),t.rotatable?n("div",{ref:"rotateHandle",staticClass:"rr-rotate-handle"}):t._e(),t._v(" "),t.hasHandle("n")?n("div",{key:"ord-n",staticClass:"rr-handle rr-ord-n"}):t._e(),t._v(" "),t.hasHandle("s")?n("div",{key:"ord-s",staticClass:"rr-handle rr-ord-s"}):t._e(),t._v(" "),t.hasHandle("e")?n("div",{key:"ord-e",staticClass:"rr-handle rr-ord-e"}):t._e(),t._v(" "),t.hasHandle("w")?n("div",{key:"ord-w",staticClass:"rr-handle rr-ord-w"}):t._e(),t._v(" "),t.hasHandle("nw")?n("div",{key:"ord-nw",staticClass:"rr-handle rr-ord-nw"}):t._e(),t._v(" "),t.hasHandle("ne")?n("div",{key:"ord-ne",staticClass:"rr-handle rr-ord-ne"}):t._e(),t._v(" "),t.hasHandle("se")?n("div",{key:"ord-se",staticClass:"rr-handle rr-ord-se"}):t._e(),t._v(" "),t.hasHandle("sw")?n("div",{key:"ord-sw",staticClass:"rr-handle rr-ord-sw"}):t._e(),t._v(" "),n("div",{staticClass:"rr-content"},[t._t("default")],2)])},staticRenderFns:[]}}],i.c=r,i.i=function(t){return t},i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/rotatable-resizer/",i(i.s=6);function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,r});